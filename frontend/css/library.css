/* library.css - Стилі бібліотеки */
.library-header {
    margin-bottom: 2rem;
}

.library-info {
    display: flex;
    align-items: flex-end;
    gap: 1.5rem;
    padding: 2rem;
    background: linear-gradient(135deg, #2d2d2d, #1a1a1a);
    border-radius: 8px;
}

.library-cover {
    width: 192px;
    height: 192px;
    background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    flex-shrink: 0;
}

.library-cover i {
    font-size: 4rem;
    color: var(--text-primary);
}

.library-details {
    flex: 1;
}

.library-badge {
    display: inline-block;
    background-color: var(--text-primary);
    color: var(--primary-bg);
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: 700;
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.library-details h1 {
    font-size: 3rem;
    font-weight: 900;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
}

.library-details p {
    color: var(--text-secondary);
    margin-bottom: 1rem;
    font-size: 1rem;
}

.library-stats {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

/* Дії бібліотеки */
.library-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2rem;
    padding: 0 1rem;
}

.play-all-btn {
    background-color: var(--accent-green);
    color: var(--primary-bg);
    border: none;
    padding: 0.75rem 2rem;
    border-radius: 25px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.play-all-btn:hover {
    background-color: var(--accent-green-hover);
    transform: scale(1.05);
}

.library-action-btn {
    background-color: transparent;
    color: var(--text-secondary);
    border: 1px solid var(--text-secondary);
    padding: 0.5rem 1rem;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.library-action-btn:hover {
    color: var(--text-primary);
    border-color: var(--text-primary);
}

/* Сітка плейлистів */
.playlists-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.playlist-card {
    background-color: var(--secondary-bg);
    border-radius: 6px;
    padding: 1rem;
    transition: all 0.3s ease;
    cursor: pointer;
}

.playlist-card:hover {
    background-color: var(--tertiary-bg);
    transform: translateY(-2px);
}

.playlist-cover {
    width: 100%;
    aspect-ratio: 1;
    border-radius: 6px;
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
}

.playlist-cover i {
    font-size: 2rem;
    color: var(--text-primary);
}

/* Play overlay button on playlist covers */
.playlist-cover .playlist-play {
    position: absolute;
    right: 12px;
    bottom: 12px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: none;
    background: radial-gradient(circle at 30% 30%, #ffffff 0%, #f1f1f1 60%);
    box-shadow: 0 6px 18px rgba(0,0,0,0.45);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}
.playlist-cover .playlist-play i {
    color: #111;
    font-size: 1.1rem;
}

/* Empty cover icon state */
.playlist-cover-empty { width:100%; height:100%; display:flex; align-items:center; justify-content:center; color:var(--text-primary); }

/* Collage grid inside playlist cover */
.playlist-cover-grid { display:grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap:4px; width:100%; height:100%; }
.pc-thumb { border-radius:4px; background-size:cover; background-position:center; }
.pc-thumb-1 { grid-area: 1 / 1 / 2 / 2; }
.pc-thumb-2 { grid-area: 1 / 2 / 2 / 3; }
.pc-thumb-3 { grid-area: 2 / 1 / 3 / 2; }
.pc-thumb-4 { grid-area: 2 / 2 / 3 / 3; }

.playlist-card { display:flex; flex-direction:column; padding: 12px; gap: 6px; }
.playlist-info h3 { margin:0; font-size:1rem; }
.playlist-info p { margin:0; font-size:0.85rem; color:var(--text-secondary); }

/* Playlist manager modal track rows */
.pm-track-list { display:flex; flex-direction:column; gap:8px; }
.pm-track-row { display:flex; align-items:center; justify-content:space-between; padding:8px; border-radius:6px; background:var(--secondary-bg); }
.pm-track-left { display:flex; align-items:center; gap:10px; }
.pm-thumb { width:56px; height:56px; border-radius:6px; background-size:cover; background-position:center; flex-shrink:0; }
.pm-track-actions .library-action-btn { padding:6px 8px; font-size:0.85rem; }

/* Remove button shown inside playlist modal track rows */
.pm-remove-track {
    background: linear-gradient(135deg,#b00020,#d32f2f);
    color: #fff;
    border: none;
    padding: 6px 10px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.85rem;
}
.pm-remove-track:hover { transform: translateY(-1px); }

.playlist-info h3 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.playlist-info p {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-bottom: 0;
}

.playlist-actions {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.6rem;
}
.playlist-actions .library-action-btn {
    padding: 0.35rem 0.6rem;
    font-size: 0.85rem;
}
.playlist-icon-btn {
    background: transparent;
    border: none;
    width: 34px;
    height: 34px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    cursor: pointer;
    color: var(--text-secondary);
}
.playlist-icon-btn i { font-size: 0.95rem; }
.playlist-icon-btn:hover { color: var(--text-primary); background: rgba(255,255,255,0.02); transform: translateY(-1px); }

/* Drag handle inside playlist modal track rows */
.pm-drag-handle { display:inline-flex; align-items:center; justify-content:center; width:28px; height:28px; margin-left:8px; color:var(--text-secondary); cursor:grab; }
.pm-drag-handle i { font-size:0.9rem; }
.pm-draggable.dragging { opacity: 0.6; }
.pm-draggable.drag-over { outline: 2px dashed rgba(255,255,255,0.06); }

.pm-suggestions { box-shadow: 0 10px 30px rgba(0,0,0,0.6); }
.pm-suggestion-row:hover { background: rgba(255,255,255,0.02); }
.playlist-actions .playlist-delete { background: linear-gradient(135deg,#b00020,#d32f2f); color: #fff; border: none; }
.playlist-actions .playlist-open { background: linear-gradient(135deg,#2d9cdb,#1b7fb8); color: #fff; border: none; }
.playlist-actions .playlist-rename { background: transparent; border: 1px solid rgba(255,255,255,0.06); color: var(--text-secondary); }

/* Улюблені треки */
.liked-songs-card {
    background: linear-gradient(135deg, #450af5, #c4efd9);
    border-radius: 8px;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    cursor: pointer;
    transition: transform 0.3s ease;
    max-width: 400px;
}

.liked-songs-card:hover {
    transform: scale(1.02);
}

.liked-songs-link {
    text-decoration: none;
    color: inherit;
}

.liked-songs-link:hover {
    text-decoration: none;
}

.liked-songs-cover {
    width: 80px;
    height: 80px;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    flex-shrink: 0;
}

.heart-icon i {
    font-size: 2rem;
    color: var(--text-primary);
}

.liked-songs-info h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
}

.liked-songs-info p {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9rem;
    margin-bottom: 0;
}

/* Add-to-playlist small icon button */
.add-to-playlist-btn {
    background: transparent;
    color: var(--text-secondary);
    border: 1px solid transparent;
    padding: 0.35rem 0.5rem;
    border-radius: 6px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    transition: all 0.15s ease;
}
.add-to-playlist-btn i { font-size: 0.9rem; }
.add-to-playlist-btn:hover { color: var(--text-primary); background: rgba(255,255,255,0.02); transform: translateY(-1px); }

/* Modal for playlist chooser */
.mf-modal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; z-index: 1200; }
.mf-modal.open { display: flex; }
.mf-modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.55); }
.mf-modal-dialog { position: relative; width: 420px; max-width: calc(100% - 40px); background: var(--secondary-bg); border-radius: 8px; box-shadow: 0 20px 60px rgba(0,0,0,0.6); overflow: hidden; }
.mf-modal-header { display:flex; align-items:center; justify-content:space-between; padding: 1rem; border-bottom:1px solid rgba(255,255,255,0.03); }
.mf-modal-header h3 { margin:0; font-size:1.05rem; }
.mf-modal-close { background:transparent; border:none; font-size:1.25rem; cursor:pointer; color:var(--text-secondary); }
.mf-modal-body { padding: 0.75rem 1rem; max-height: 320px; overflow:auto; }
.mf-modal-footer { padding: 0.75rem 1rem; border-top:1px solid rgba(255,255,255,0.03); text-align:right; }
.playlist-chooser-list { display:flex; flex-direction:column; gap:0.5rem; }
.playlist-chooser-row { display:flex; align-items:center; justify-content:space-between; gap:0.75rem; padding:0.5rem; border-radius:6px; background:transparent; }
.playlist-chooser-row:hover { background: rgba(255,255,255,0.02); }
.playlist-chooser-meta .small.muted { font-size:0.8rem; color:var(--text-secondary); margin-top:4px; }

/* Hide fullscreen control in the footer player (UI preference) */
footer.music-player .control-btn.fullscreen,
footer.music-player .fullscreen-btn,
footer.music-player i.fa-expand,
footer.music-player i.fa-expand-arrows-alt {
    display: none !important;
}

/* Active state for shuffle/repeat buttons */
.shuffle-btn.active, .repeat-btn.active { background: rgba(255,255,255,0.04); color: var(--text-primary); }